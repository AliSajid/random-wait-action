#!/usr/bin/env bash
# SPDX-FileCopyrightText: Ali Sajid Imami
#
# SPDX-License-Identifier: MIT

#MISE description="Verify dist/ is up-to-date (critical for GitHub Actions)"
#MISE depends=["_install"]
set -e
echo "ğŸ”¨ Building fresh distribution..."
pnpm run package
if [[ -n "$(git status --porcelain dist/)" ]]; then
    echo "âŒ dist/ is out of date! Run 'mise run build' and commit changes."
    git diff dist/
    exit 1
fi
echo "âœ… dist/ is up-to-date"
